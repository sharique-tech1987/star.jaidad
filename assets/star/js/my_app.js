function numDifferentiation(value){var val=Math.abs(value)
if(val>=10000000){val=(val/10000000).toFixed(2)+' Crore';}else if(val>=100000){val=(val/100000).toFixed(2)+' Lac';}
else if(val>=1000)val=(val/1000).toFixed(2)+' K';return val;}
(function($){$(document).ready(function(){
    $('section.site_loader').remove();
    $('.m-toggle-menu').on('click', function () {
        $('.site-menu-drop-dropdown').hide(0);
        var $this = $(this);
        var $parent = $this.parent();
        var dropType = $parent.attr('data-toogle_class');
        //$parent.toggleClass('in');
        $(dropType).slideToggle();
    });
    $('#js-news').ticker({
        controls: false,
    });

    $("[data-inputmask]").inputmask();$('.file-upload').change(function(){var _data=$(this).data();$(this).simpleUpload(_data.url,{start:function(file){this.block=$('<div class="block"></div>');this.progressBar=$('<div class="progressBar"></div>');this.block.append(this.progressBar);if(_data.upload_block)
$(_data.upload_block).append(this.block);},progress:function(progress){this.progressBar.width(progress+"%");},success:function(data){data=$.parseJSON(data);console.log(data);this.progressBar.remove();if(data.status){if(_data.thumb){$(_data.thumb).attr('src',data.thumb);}
if(_data.input){$(_data.input).val(data.input);}
var format=data.upload_data.file_ext;var formatDiv=$('<div class="format"></div>').text(format);this.block.append(formatDiv);}else{var error=data.upload_data.error;var errorDiv=$('<div class="error"></div>').text(error);this.block.append(errorDiv);}},error:function(error){this.progressBar.remove();var message=error.upload_data.error;var errorDiv=$('<div class="error"></div>').text(message);this.block.append(errorDiv);}});});});$.validator.addMethod("phone",function(value,element){return this.optional(element)||/([0-9]{10})|(\([0-9]{3}\)\s+[0-9]{3}\-[0-9]{4})/.test(value);},"Please enter valid number");function enableMasonry(){if($('.sortable-masonry').length){var winDow=$(window);var $container=$('.sortable-masonry .items-container');var $filter=$('.filter-btns');$container.isotope({filter:'*',masonry:{columnWidth:'.masonry-item.small-column'},animationOptions:{duration:500,easing:'linear'}});$filter.find('li').on('click',function(){var selector=$(this).attr('data-filter');try{$container.isotope({filter:selector,animationOptions:{duration:500,easing:'linear',queue:false}});}catch(err){}
return false;});winDow.on('resize',function(){var selector=$filter.find('li.active').attr('data-filter');$container.isotope({filter:selector,animationOptions:{duration:500,easing:'linear',queue:false}});});var filterItemA=$('.filter-btns li');filterItemA.on('click',function(){var $this=$(this);if(!$this.hasClass('active')){filterItemA.removeClass('active');$this.addClass('active');}});}}
enableMasonry();function defaultMasonry(){if($('.masonry-items-container').length){var winDow=$(window);var $container=$('.masonry-items-container');$container.isotope({itemSelector:'.masonry-item',masonry:{columnWidth:1},animationOptions:{duration:500,easing:'linear'}});winDow.on('resize',function(){$container.isotope({itemSelector:'.masonry-item',animationOptions:{duration:500,easing:'linear',queue:false}});});}}
defaultMasonry();if($('.lightbox-image').length){$('.lightbox-image').fancybox({openEffect:'fade',closeEffect:'fade',helpers:{media:{}}});}
if($('.wow').length){var wow=new WOW({boxClass:'wow',animateClass:'animated',offset:0,mobile:false,live:true});wow.init();}
$(window).on('load',function(){enableMasonry();defaultMasonry();});$('.select2,.m-select2').select2({templateResult:format,});function format(state){if(!state.id)return state.text;var icon=$(state.element).data('icon');var img=$(state.element).data('img');if(icon&&icon.length>0){return"<i class='"+icon+"'></i> &nbsp;"+state.text;}else if(img&&img.length>0){var $state=$('<span><img src="'+img+'" class="img-flag" /> '+state.text+'</span>');return $state;}else{return state.text;}}
function formatRepo(repo){if(repo.loading)return repo.text;var markup="<div class='select2-result-repository clearfix'>"+"<div class='select2-result-repository__meta'>"+"<div class='select2-result-repository__title'>"+repo.value+"</div>";if(repo.description){markup+="<div class='select2-result-repository__description'>"+repo.value+"</div>";}
return markup;}
function formatRepoSelection(repo){return repo.text||repo.text;}
$('.select2-tags-area').select2({tags:true,minimumInputLength:1,placeholder:"Search area...",createTag:function(params){return false;},ajax:{url:site_url+'property/ajax/search_area',dataType:'json',delay:250,data:function(params){let city_id=$('#search_city_id').val();return{q:params.term,city_id:city_id,page:params.page};},processResults:function(data,params){params.page=params.page||1;return{results:data.results,pagination:{more:(params.page*30)<data.total_count}};},cache:true},});$(document).on('change','#search_city_id',function(e){$('#search_area_id').val(null).trigger('change');});$('.select2-tags').select2({tags:true});$(".rating-types").each(function(){var i=$(this).data("score"),n=$(this).data("readonly"),s=$(this).data("field");$(this).raty({score:i,readOnly:n,starHalf:media_url+"/images/raty/star-half.png",starOff:media_url+"/images/raty/star-off.png",starOn:media_url+"/images/raty/star-on.png",scoreName:s,path:"",})})
$(".m-select2-ajax").select2({ajax:{url:function(params){return $(this).data('url')+'/?term='+params.term;},dataType:'json',delay:250,data:function(params){var postData={q:params.term,page:params.page};var formData=$($(this).data('data_ele')).serializeArray();$.each(formData,function(index,e){postData[e.name]=e.value});return postData;},processResults:function(data,params){if(data.results.length==0&&$(this)[0].$element.data().add_more){$('.select2-search--dropdown').find('.add-more-option').remove();$('.select2-search--dropdown').append('<a class="add-more-option" data-option="'+params.term+'"><i>Add new area</i></a>');}else{$('.select2-search--dropdown').find('.add-more-option').remove();}
params.page=params.page||1;return{results:data.results,pagination:{more:(params.page*30)<data.total_count}};},cache:true},escapeMarkup:function(markup){return markup;},minimumInputLength:1,templateResult:format,templateSelection:format,});$(document).on('change','[load-select]',function(e){e.preventDefault();var _this=$(this);var next_select=$(_this.attr('load-select'));next_select.each(function(index,ele){load_select(_this,$(ele));});});function load_select(ele,select_ele){var url=select_ele.attr('load-url');var selected_val=select_ele.val();select_ele.html('<option value="">Loading...</option>');$.get(url,{id:ele.val(),selected:selected_val}).done(function(data){select_ele.html(data);}).fail(function(){var notify=$.notify('Record not found!',{type:'danger',newest_on_top:true,allow_dismiss:true,});});}
$(document).on('click','[remove-el]',function(e){e.preventDefault();var _this=$(this);var ele=_this.attr('remove-el').split('.');var rm_name=_this.data('rm-name');var rm_value=_this.data('rm-value');if(rm_name!=''){_this.closest('form').append('<input type="hidden" name="'+rm_name+'" value="'+rm_value+'">');}
if(ele[0]=='parent'||ele[0]=='parents'||ele[0]=='closest'){_this.closest('.'+ele[1]).remove();}else if(ele[0]==''){$('.'+ele[1]).remove();}else{ele=$(this).attr('remove-el').split('#');if(ele[0]=='parent'||ele[0]=='parents'||ele[0]=='closest'){_this.closest('#'+ele[1]).remove();}else if(ele[0]==''){$('#'+ele[1]).remove();}}});})(window.jQuery);